"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[369],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>m});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var i=a.createContext({}),u=function(e){var t=a.useContext(i),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},p=function(e){var t=u(e.components);return a.createElement(i.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,i=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),d=u(n),m=r,y=d["".concat(i,".").concat(m)]||d[m]||c[m]||o;return n?a.createElement(y,l(l({ref:t},p),{},{components:n})):a.createElement(y,l({ref:t},p))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,l=new Array(o);l[0]=d;var s={};for(var i in t)hasOwnProperty.call(t,i)&&(s[i]=t[i]);s.originalType=e,s.mdxType="string"==typeof e?e:r,l[1]=s;for(var u=2;u<o;u++)l[u]=n[u];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},2105:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>i,contentTitle:()=>l,default:()=>c,frontMatter:()=>o,metadata:()=>s,toc:()=>u});var a=n(7462),r=(n(7294),n(3905));const o={},l="Planning the deployment",s={unversionedId:"nebula-cloud-on-aws/aws-planning-deployment",id:"nebula-cloud-on-aws/aws-planning-deployment",title:"Planning the deployment",description:"Before you start deploying service clusters of NebulaGraph on AWS, you need to have some knowledge about AWS and NebulaGraph, get your AWS accounts ready, confirm your resources, and choose your deployment option.",source:"@site/cloud/nebula-cloud-on-aws/3.aws-planning-deployment.md",sourceDirName:"nebula-cloud-on-aws",slug:"/nebula-cloud-on-aws/aws-planning-deployment",permalink:"/cloud/nebula-cloud-on-aws/aws-planning-deployment",draft:!1,editUrl:"https://github.com/randomJoe211/randomjoe211.github.io/edit/main/cloud/nebula-cloud-on-aws/3.aws-planning-deployment.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{},sidebar:"cloud",previous:{title:"Deployment Architecture",permalink:"/cloud/nebula-cloud-on-aws/aws-architecture"},next:{title:"Deployment steps",permalink:"/cloud/nebula-cloud-on-aws/aws-deployment-steps"}},i={},u=[{value:"Specialized knowledge",id:"specialized-knowledge",level:2},{value:"Account and permission",id:"account-and-permission",level:2},{value:"Resource quotas",id:"resource-quotas",level:2},{value:"AWS Regions",id:"aws-regions",level:2},{value:"EC2 key pairs",id:"ec2-key-pairs",level:2},{value:"Deployment options",id:"deployment-options",level:2}],p={toc:u};function c(e){let{components:t,...n}=e;return(0,r.kt)("wrapper",(0,a.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"planning-the-deployment"},"Planning the deployment"),(0,r.kt)("p",null,"Before you start deploying service clusters of NebulaGraph on AWS, you need to have some knowledge about AWS and NebulaGraph, get your AWS accounts ready, confirm your resources, and choose your deployment option."),(0,r.kt)("h2",{id:"specialized-knowledge"},"Specialized knowledge"),(0,r.kt)("p",null,"The deployment requires a moderate level of familiarity with AWS services, especially EC2, VPC, and EBS. If you're new to AWS, see ",(0,r.kt)("a",{parentName:"p",href:"https://aws.amazon.com/getting-started/"},"Getting Started Resource Center")," and ",(0,r.kt)("a",{parentName:"p",href:"https://aws.amazon.com/training/"},"AWS Training and Certification"),". These sites provide materials for learning how to design, deploy, and operate your infrastructure and applications on the AWS Cloud."),(0,r.kt)("h2",{id:"account-and-permission"},"Account and permission"),(0,r.kt)("p",null,"If you don't have an AWS account, create one at ",(0,r.kt)("a",{parentName:"p",href:"https://aws.amazon.com"},"https://aws.amazon.com")," by following the on-screen instructions."),(0,r.kt)("p",null,"The account used for the deployment must have the permissions for the necessary AWS resources."),(0,r.kt)("h2",{id:"resource-quotas"},"Resource quotas"),(0,r.kt)("p",null,"Before the deployment starts, check the resource quota in the ",(0,r.kt)("a",{parentName:"p",href:"https://us-east-1.console.aws.amazon.com/servicequotas/home/"},"Service Quotas console")," to make sure that there are sufficient resources for the deployment. The required resources for deploying a NebulaGraph service cluster are as follows:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Resource"),(0,r.kt)("th",{parentName:"tr",align:null},"This deployment uses"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"VPCs"),(0,r.kt)("td",{parentName:"tr",align:null},"1")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Elastic IP addresses"),(0,r.kt)("td",{parentName:"tr",align:null},"5 to 15 (Depending on the host number)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Security groups"),(0,r.kt)("td",{parentName:"tr",align:null},"2")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"IAM roles"),(0,r.kt)("td",{parentName:"tr",align:null},"2")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Network Load Balancers"),(0,r.kt)("td",{parentName:"tr",align:null},"1")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"EC2 instances (bastion host)"),(0,r.kt)("td",{parentName:"tr",align:null},"1")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"EC2 instances (Nebula Explorer hosts)"),(0,r.kt)("td",{parentName:"tr",align:null},"1")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"EC2 instances (graphd hosts)"),(0,r.kt)("td",{parentName:"tr",align:null},"1 to 3")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"EC2 instances (metad hosts)"),(0,r.kt)("td",{parentName:"tr",align:null},"1 or 3")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"EC2 instances (storaged hosts)"),(0,r.kt)("td",{parentName:"tr",align:null},"1 or 3 or 5 or 7")))),(0,r.kt)("p",null,"The number of Elastic IP addresses and EC2 instances used depends on the actual deployment architecture."),(0,r.kt)("p",null,"If the required resource quota is insufficient, request service quota increases first."),(0,r.kt)("h2",{id:"aws-regions"},"AWS Regions"),(0,r.kt)("p",null,"For the deployment in a Region other than the default Region us-east-1, you are recommended to confirm that the target Region supports all the AWS services required for the deployment on the ",(0,r.kt)("a",{parentName:"p",href:"https://aws.amazon.com/about-aws/global-infrastructure/regional-product-services/"},"AWS Regional Services page"),"."),(0,r.kt)("p",null,"If you get an error such as \u201cUnrecognized resource type,\u201d the deployment is not supported in that Region."),(0,r.kt)("h2",{id:"ec2-key-pairs"},"EC2 key pairs"),(0,r.kt)("p",null,"Make sure that at least one Amazon EC2 key pair exists in your AWS account in the Region where you plan to deploy the cluster. Note the key-pair name because you will use it during deployment. To create a key pair, see ",(0,r.kt)("a",{parentName:"p",href:"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-key-pairs.html"},"Amazon EC2 key pairs and Linux instances"),"."),(0,r.kt)("p",null,"For testing or proof-of-concept purposes, it is recommended to create a new key pair instead of using one that has already been used by a production instance."),(0,r.kt)("h2",{id:"deployment-options"},"Deployment options"),(0,r.kt)("p",null,"AWS CloudFormation supports two deployment options:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Deploy NebulaGraph into a new VPC. This option builds a new AWS environment consisting of the VPC, subnets, NAT gateways, security groups, bastion hosts, and other infrastructure components. It then deploys NebulaGraph into this new VPC."),(0,r.kt)("li",{parentName:"ul"},"Deploy NebulaGraph into an existing VPC. To choose this option, make sure that the VPC has two private subnets in different Availability Zones for the instances and that the subnets aren't shared.")),(0,r.kt)("p",null,"Before the deployment, you have to choose an option, so that you can specify the template accordingly during the deployment."))}c.isMDXComponent=!0}}]);