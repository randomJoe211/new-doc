"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[4362],{3905:(e,t,a)=>{a.d(t,{Zo:()=>d,kt:()=>g});var r=a(7294);function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},i=Object.keys(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var l=r.createContext({}),p=function(e){var t=r.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},d=function(e){var t=p(e.components);return r.createElement(l.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},u=r.forwardRef((function(e,t){var a=e.components,n=e.mdxType,i=e.originalType,l=e.parentName,d=s(e,["components","mdxType","originalType","parentName"]),u=p(a),g=n,c=u["".concat(l,".").concat(g)]||u[g]||m[g]||i;return a?r.createElement(c,o(o({ref:t},d),{},{components:a})):r.createElement(c,o({ref:t},d))}));function g(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var i=a.length,o=new Array(i);o[0]=u;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:n,o[1]=s;for(var p=2;p<i;p++)o[p]=a[p];return r.createElement.apply(null,o)}return r.createElement.apply(null,a)}u.displayName="MDXCreateElement"},511:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>l,contentTitle:()=>o,default:()=>m,frontMatter:()=>i,metadata:()=>s,toc:()=>p});var r=a(7462),n=(a(7294),a(3905));const i={},o="Data modeling",s={unversionedId:"introduction/data-model",id:"introduction/data-model",title:"Data modeling",description:"A data model is a model that organizes data and specifies how they are related to one another. This topic describes the Nebula\xa0Graph data model and provides suggestions for data modeling with Nebula Graph.",source:"@site/docs/2.introduction/6.data-model.md",sourceDirName:"2.introduction",slug:"/introduction/data-model",permalink:"/docs/next/introduction/data-model",draft:!1,editUrl:"https://github.com/randomJoe211/randomjoe211.github.io/edit/main/docs/2.introduction/6.data-model.md",tags:[],version:"current",sidebarPosition:6,frontMatter:{},sidebar:"docs",previous:{title:"Storage Service",permalink:"/docs/next/introduction/nebula-graph-architecture/storage-service"},next:{title:"Path types",permalink:"/docs/next/introduction/path"}},l={},p=[{value:"Data structures",id:"data-structures",level:2},{value:"Directed property graph",id:"directed-property-graph",level:2}],d={toc:p};function m(e){let{components:t,...a}=e;return(0,n.kt)("wrapper",(0,r.Z)({},d,a,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h1",{id:"data-modeling"},"Data modeling"),(0,n.kt)("p",null,"A data model is a model that organizes data and specifies how they are related to one another. This topic describes the Nebula\xa0Graph data model and provides suggestions for data modeling with Nebula Graph."),(0,n.kt)("h2",{id:"data-structures"},"Data structures"),(0,n.kt)("p",null,"Nebula Graph data model uses six data structures to store data. They are graph spaces, vertices, edges, tags, edge types and properties."),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("strong",{parentName:"p"},"Graph spaces"),": Graph spaces are used to isolate data from different teams or programs. Data stored in different graph spaces are securely isolated. Storage replications, privileges, and partitions can be assigned.")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("strong",{parentName:"p"},"Vertices"),": Vertices are used to store entities.")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"In Nebula Graph, vertices are identified with vertex identifiers (i.e. ",(0,n.kt)("inlineCode",{parentName:"p"},"VID"),"). The ",(0,n.kt)("inlineCode",{parentName:"p"},"VID")," must be unique in the same graph space. VID should be int64, or fixed_string(N)."),(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"A vertex has zero to multiple tags.")),(0,n.kt)("admonition",{parentName:"li",title:"Compatibility",type:"info"},(0,n.kt)("p",{parentName:"admonition"},"In Nebula Graph 2.x a vertex must have at least one tag. And in Nebula Graph {{nebula.release}}, a tag is not required for a vertex."))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("strong",{parentName:"p"},"Edges"),": Edges are used to connect vertices. An edge is a connection or behavior between two vertices."),(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"There can be multiple edges between two vertices."),(0,n.kt)("li",{parentName:"ul"},"Edges are directed. ",(0,n.kt)("inlineCode",{parentName:"li"},"->")," identifies the directions of edges. Edges can be traversed in either direction."),(0,n.kt)("li",{parentName:"ul"},"An edge is identified uniquely with ",(0,n.kt)("inlineCode",{parentName:"li"},"<a source vertex, an edge type, a rank value, and a destination vertex>"),". Edges have no EID."),(0,n.kt)("li",{parentName:"ul"},"An edge must have one and only one edge type."),(0,n.kt)("li",{parentName:"ul"},"The rank value is an immutable user-assigned 64-bit signed integer. It identifies the edges with the same edge type between two vertices. Edges are sorted by their rank values. The edge with the greatest rank value is listed first. The default rank value is zero."))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("strong",{parentName:"p"},"Tags"),": Tags are used to categorize vertices. Vertices that have the same tag share the same definition of properties.")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("strong",{parentName:"p"},"Edge types"),": Edge types are used to categorize edges. Edges that have the same edge type share the same definition of properties.")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("strong",{parentName:"p"},"Properties"),": Properties are key-value pairs. Both vertices and edges are containers for properties."),(0,n.kt)("admonition",{parentName:"li",type:"note"},(0,n.kt)("p",{parentName:"admonition"},'Tags and Edge types are similar to "vertex tables" and "edge tables" in the relational   databases.')))),(0,n.kt)("h2",{id:"directed-property-graph"},"Directed property graph"),(0,n.kt)("p",null,"Nebula Graph stores data in directed property graphs. A directed property graph has a set of vertices connected by directed edges. Both vertices and edges can have properties. A directed property graph is represented as:"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"G = < V, E, P",(0,n.kt)("sub",null,"V"),", P",(0,n.kt)("sub",null,"E")," >")),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"V")," is a set of vertices."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"E")," is a set of directed edges."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"P",(0,n.kt)("sub",null,"V"))," is the property of vertices."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"P",(0,n.kt)("sub",null,"E"))," is the property of edges.")),(0,n.kt)("p",null,"The following table is an example of the structure of the basketball player dataset. We have two types of vertices, that is ",(0,n.kt)("strong",{parentName:"p"},"player")," and ",(0,n.kt)("strong",{parentName:"p"},"team"),", and two types of edges, that is ",(0,n.kt)("strong",{parentName:"p"},"serve")," and ",(0,n.kt)("strong",{parentName:"p"},"follow"),"."),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:"left"},"Element"),(0,n.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,n.kt)("th",{parentName:"tr",align:"left"},"Property name (Data type)"),(0,n.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"Tag"),(0,n.kt)("td",{parentName:"tr",align:"left"},(0,n.kt)("strong",{parentName:"td"},"player")),(0,n.kt)("td",{parentName:"tr",align:"left"},"name (string) ",(0,n.kt)("br",null),"age (int)"),(0,n.kt)("td",{parentName:"tr",align:"left"},"Represents players in the team.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"Tag"),(0,n.kt)("td",{parentName:"tr",align:"left"},(0,n.kt)("strong",{parentName:"td"},"team")),(0,n.kt)("td",{parentName:"tr",align:"left"},"name (string)"),(0,n.kt)("td",{parentName:"tr",align:"left"},"Represents the teams.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"Edge type"),(0,n.kt)("td",{parentName:"tr",align:"left"},(0,n.kt)("strong",{parentName:"td"},"serve")),(0,n.kt)("td",{parentName:"tr",align:"left"},"start_year (int) ",(0,n.kt)("br",null)," end_year (int)"),(0,n.kt)("td",{parentName:"tr",align:"left"},"Represents actions taken by players in the team.",(0,n.kt)("br",null),"An action links a player with a team, and the direction is from a player to a team.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"Edge type"),(0,n.kt)("td",{parentName:"tr",align:"left"},(0,n.kt)("strong",{parentName:"td"},"follow")),(0,n.kt)("td",{parentName:"tr",align:"left"},"degree (int)"),(0,n.kt)("td",{parentName:"tr",align:"left"},"Represents actions taken by players in the team.",(0,n.kt)("br",null),"An action links a player with another player, and the direction is from one player to the other player.")))),(0,n.kt)("p",null,"!!! Note"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},"Nebula Graph supports only directed edges.\n")),(0,n.kt)("p",null,"!!! compatibility"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},"Nebula Graph {{ nebula.release }} allows dangling edges. Therefore, when adding or deleting, you need to ensure the corresponding source vertex and destination vertex of an edge exist. For details, see [INSERT VERTEX](../3.ngql-guide/12.vertex-statements/1.insert-vertex.md), [DELETE VERTEX](../3.ngql-guide/12.vertex-statements/4.delete-vertex.md), [INSERT EDGE](../3.ngql-guide/13.edge-statements/1.insert-edge.md), and [DELETE EDGE](../3.ngql-guide/13.edge-statements/4.delete-edge.md).\n\nThe MERGE statement in openCypher is not supported.\n")))}m.isMDXComponent=!0}}]);